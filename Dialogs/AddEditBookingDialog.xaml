<ContentDialog
    x:Class="App1.Dialogs.AddEditBookingDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:App1.Dialogs"
    xmlns:models="using:App1.Models"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="Booking Details"
    PrimaryButtonText="Save"
    CloseButtonText="Cancel"
    DefaultButton="Primary"
    PrimaryButtonClick="ContentDialog_PrimaryButtonClick"
    Loaded="ContentDialog_Loaded">


    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Spacing="10">
            <ComboBox x:Name="GuestComboBox" Header="Гость" PlaceholderText="Выберите гостя"
                      ItemsSource="{x:Bind Guests, Mode=OneWay}"
                      SelectedItem="{x:Bind SelectedGuest, Mode=TwoWay}"
                      DisplayMemberPath="LastName" HorizontalAlignment="Stretch"/>

            <DatePicker x:Name="CheckInDatePicker" Header="Check-In Дата" HorizontalAlignment="Stretch"
                        SelectedDate="{x:Bind CheckInDate, Mode=TwoWay}" />

            <DatePicker x:Name="CheckOutDatePicker" Header="Check-Out Дата" HorizontalAlignment="Stretch"
                        SelectedDate="{x:Bind CheckOutDate, Mode=TwoWay}" />

            <ComboBox x:Name="RoomComboBox" Header="Room" PlaceholderText="Выберите Комнату"
                      ItemsSource="{x:Bind AvailableRooms, Mode=OneWay}"
                      SelectedItem="{x:Bind SelectedRoom, Mode=TwoWay}" HorizontalAlignment="Stretch">
                <ComboBox.ItemTemplate>
                    <DataTemplate x:DataType="models:Room">
                        <TextBlock>
                            <Run Text="{x:Bind RoomNumber}"/>
                            <Run Text=" ("/>
                            <Run Text="{x:Bind RoomCategory.Name}"/>
                            <Run Text=", "/>
                            <Run Text="{x:Bind RoomCategory.BasePricePerNight, Mode=OneWay}"/> 
                            <Run Text=" /ночь)"/>
                        </TextBlock>
                    </DataTemplate>
                </ComboBox.ItemTemplate>
            </ComboBox>

            <TextBlock Foreground="Red"
                       Visibility="{x:Bind ValidationErrorVisibility, Mode=OneWay}"
                       Text="{x:Bind ValidationError, Mode=OneWay}" TextWrapping="Wrap"/>

            <TextBlock FontWeight="SemiBold"
                       Text="{x:Bind TotalPriceDisplay, Mode=OneWay}" />

        </StackPanel>
    </ScrollViewer>
</ContentDialog>